<!doctype html>
<html lang="en" class="theme-default">
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="%sveltekit.assets%/global.css">
    <link rel="stylesheet" href="/theme.css">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    %sveltekit.head%
    <script>
      function handleThemeUpdate(theme) {
        if (!theme) theme = 'default';
        if (document.documentElement.classList.contains(`theme-${theme}`))
          return;
        [...document.documentElement.classList]
          .filter(c => c.startsWith('theme-'))
          .forEach(c => document.documentElement.classList.remove(c));
        document.documentElement.classList.add(`theme-${theme}`);
      }

      window.addEventListener('themeUpdated', (event) => {
        handleThemeUpdate(event.detail);
      });

      try {
        const theme = localStorage.getItem('theme');
        handleThemeUpdate(theme);
      } catch (error) {
        console.error(error);
      }
    </script>
  </head>
  <body class="section-default" data-sveltekit-preload-data="hover">
    <div style="display: contents">%sveltekit.body%</div>
  </body>
</html>
